FROM bellsoft/liberica-openjdk-alpine:17
ARG JAR_PATH=/build/libs/*.jar
COPY ${JAR_PATH} /home/server.jar
ARG ACTIVE_PROFILE
ENV ACTIVE_PROFILE=${ACTIVE_PROFILE}
ARG DATASOURCE_URL_LOCAL
ENV DATASOURCE_URL_LOCAL=${DATASOURCE_URL_LOCAL}
ARG DATASOURCE_USERNAME
ENV DATASOURCE_USERNAME=${DATASOURCE_USERNAME}
ARG DATASOURCE_PASSWORD
ENV DATASOURCE_PASSWORD=${DATASOURCE_PASSWORD}
ARG DATASOURCE_URL_DEV
ENV DATASOURCE_URL_DEV=${DATASOURCE_URL_DEV}
ARG DATASOURCE_URL_PROD
ENV DATASOURCE_URL_PROD=${DATASOURCE_URL_PROD}
ARG KAKAO_API_KEY
ENV KAKAO_API_KEY=${KAKAO_API_KEY}
ARG KAKAO_REDIRECT_URI
ENV KAKAO_REDIRECT_URI=${KAKAO_REDIRECT_URI}
ARG REDIS_HOST
ENV REDIS_HOST=${REDIS_HOST}
ARG REDIS_PASSWORD
ENV REDIS_PASSWORD=${REDIS_PASSWORD}
ARG REDIS_PORT
ENV REDIS_PORT=${REDIS_PORT}
ARG JWT_SECRET_KEY
ENV JWT_SECRET_KEY=${JWT_SECRET_KEY}
ARG ACCESS_KEY
ENV ACCESS_KEY=${ACCESS_KEY}
ARG SECRET_KEY
ENV SECRET_KEY=${SECRET_KEY}
ARG BUCKET_NAME
ENV BUCKET_NAME=${BUCKET_NAME}
ENTRYPOINT ["java","-jar","/home/server.jar"]
